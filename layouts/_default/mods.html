{{ define "main" }}
<!-- <article class="post-entry"> -->
  <header class="page-header">
    <h1>{{ .Title }}</h1>
  </header>
  <div class="entry-content">
    <p>提醒：部分链接可能失效，请换用另一网盘试试！</p>
    
    {{ $modNames := index site.Data "mod_name" }}
    {{ $baiduPan := index site.Data "pan_baidu" }}
    {{ $quarkPan := index site.Data "pan_quark" }}
    
    <div class="mods-list">
      {{ range $id, $names := $modNames }}
        {{ $baiduData := index $baiduPan $id }}
        {{ $quarkData := index $quarkPan $id }}
        {{ if or $baiduData $quarkData}}
        <div class="mod-item">
          <div class="item-main">
            <div class="item-info">
              <!-- <span class="mod-id">{{ $id }}</span> -->
              <a href="/p/{{ $id }}" class="mod-id" target="_self"> {{ $id }} </a>

              <span class="mod-name">{{ index $names 0 }}</span>
            </div>
            <div class="item-actions">
              {{ if $baiduData }}
                <a href="{{ $baiduData.url }}" target="_blank" rel="noopener" class="action-btn baidu" title="百度网盘下载">
                <img 
                  src="/img/pan_baidu.jpg" 
                  alt="百度" 
                  style="width: 24px; height: 24px; vertical-align: middle; margin: 0 0.2em;" 
                >
                </a>
              {{ else }}
                <span class="action-na" title="暂无百度下载"> — </span>
              {{ end }}
              
              {{ if $quarkData }}
                <a href="{{ $quarkData.url }}" target="_blank" rel="noopener" class="action-btn quark" title="夸克网盘下载">
                  <img 
                    src="/img/pan_quark.jpg" 
                    alt="夸克" 
                    style="width: 24px; height: 24px; vertical-align: middle; margin: 0 0.2em;" 
                  >
                </a>
              {{ else }}
                <span class="action-na" title="暂无夸克下载"> — </span>
              {{ end }}
            </div>
          </div>
          
          <!-- {{ if or $baiduData $quarkData }} -->
          <!-- <div class="item-details"> -->
            <!-- {{ if $baiduData }} -->
              <!-- <span class="detail-code">百度:{{ $baiduData.pwd }}</span> -->
            <!-- {{ end }} -->
            <!-- {{ if $quarkData }} -->
              <!-- <span class="detail-code">夸克:{{ $quarkData.psw }}</span> -->
            <!-- {{ end }} -->
          <!-- </div> -->
          <!-- {{ end }} -->
        </div>
        {{ end }}
      {{ end }}
    </div>
  </div>
<!-- </article> -->

<style>
.mods-list {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  margin: 1.5rem 0;
}

.mod-item {
  background: var(--entry);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 1rem;
  transition: all 0.2s ease;
}

.mod-item:hover {
  background: var(--code-bg);
}

.item-main {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 0.75rem;
}

.item-info {
  flex: 1;
  min-width: 0;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}


.mod-id {
  font-family: monospace;
  font-size: 0.5rem;
  color: var(--secondary);
  white-space: nowrap;
  background: var(--code-bg);
  padding: 0.2rem 0.4rem;
  border-radius: 4px;
}

.mod-name {
  font-size: 0.6rem;
  font-weight: 500;
  color: var(--primary);
  white-space: nowrap; /* 强制文字不换行（关键，确保横向滚动） */
  /* 删掉以下2行：不再需要省略号，改为完整显示 */
  /* overflow: hidden; */
  /* text-overflow: ellipsis; */
  padding: 0 3px; /* 可选，增加文字左右内边距，避免贴边 */

  /* 新增以下3行：让容器支持横向滚动 */
  overflow-x: auto;    /* 超出宽度时显示横向滚动条 */
  overflow-y: hidden;   /* 禁止纵向滚动（避免高度异常） */
  padding-bottom: 3px; /* 给滚动条预留空间，避免遮挡文字 */
}

/* 优化滚动条样式（可选，让滚动条更像代码块） */
.mod-name::-webkit-scrollbar {
  height: 3px; /* 横向滚动条高度 */
  color: var(--code-bg);
}
.mod-name::-webkit-scrollbar-thumb {
  border-radius: 3px; /* 滑块圆角 */
  border: 1px solid var(--secondary);
}
.mod-name::-webkit-scrollbar-track {
  background-color: var(--secondary); /* 滚动条轨道颜色 */
  border-radius: 3px;
}


.item-actions {
  display: flex;
  gap: 0.5rem;
  flex-shrink: 0;
}

.action-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  text-decoration: none;
  transition: all 0.2s ease;
}

.action-btn img {
  border: 1px solid var(--border);
  border-radius: 3px;
}

.action-btn.baidu {
  /*background: #2932e1;*/
  color: white;
}

.action-btn.quark {
  /*background: #ff2440;*/
  color: white;
}

.action-btn:hover {
  opacity: 0.9;
  transform: scale(1.05);
}

.action-na {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  color: var(--secondary);
  font-size: 0.9rem;
}

.item-details {
  margin-top: 0.75rem;
  padding-top: 0.75rem;
  border-top: 1px solid var(--border);
  display: flex;
  gap: 1rem;
  font-size: 0.8rem;
}

.detail-code {
  font-family: monospace;
  background: var(--code-bg);
  padding: 0.2rem 0.4rem;
  border-radius: 3px;
  color: var(--secondary);
}

/* 移动端优化 */
@media (max-width: 480px) {
  .mod-item {
    padding: 0.875rem;
  }
  
  .item-main {
    gap: 0.5rem;
  }
  
  .item-info {
    gap: 0.375rem;
  }
  
  .mod-id {
    font-size: 0.75rem;
  }
  
  .mod-name {
    font-size: 0.875rem;
  }
  
  .item-details {
    flex-direction: column;
    gap: 0.375rem;
  }
}

</style>
{{ end }}
