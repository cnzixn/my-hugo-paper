{{ $name := .Get 0 }}
{{ $currentDate := now.Format "20060102" }} {{/* Hugo æ—¶é—´æ ¼å¼åŒ–å›ºå®šä½¿ç”¨ 20060102 ä½œä¸ºæ¨¡æ¿ */}}
{{ with index site.Data.pan $name }}

  <div class="pan-actions">
    {{/* 1. æ–‡ä»¶å¤§å°ï¼šå·²æ³¨é‡Šï¼ˆä¿ç•™ä»£ç ï¼‰ */}}
    {{/* <div class="pan-text-group">
      {{ range . }}
        {{ if and .size (ne .size "0B") }}
          <strong>æ–‡ä»¶å¤§å°: </strong> {{ .size }}
        {{ end }}
      {{ end }}
    </div> */}}

    {{/* 2. ç½‘ç›˜é“¾æ¥+æŒ‰é’®ç»„ */}}
    <div class="pan-text-group">
      <strong>ç½‘ç›˜æ–‡ä»¶: </strong>

      {{/* æŒ‰é’®ç»„å®¹å™¨ */}}
      <div class="pan-btn-group">
        {{/* ç™¾åº¦ç½‘ç›˜æŒ‰é’®ï¼ˆå¯¹åº” url1ï¼‰ */}}
        {{ $baiduUrl := index (where . "url1" "ne" nil) 0 "url1" }}
        {{ if $baiduUrl }}
          <button onclick="window.open('{{ $baiduUrl }}&t={{ $currentDate }}', '_blank')" class="action-btn baidu" title="ç™¾åº¦ç½‘ç›˜ä¸‹è½½">
            <img src="/img/pan_baidu.webp" alt="ç™¾åº¦ç½‘ç›˜">
          </button>
        {{ else }}
          <button class="action-btn baidu" title="æš‚æ— ç™¾åº¦ç½‘ç›˜ä¸‹è½½" disabled>
            <img src="/img/pan_baidu.webp" alt="ç™¾åº¦ç½‘ç›˜">
          </button>
        {{ end }}
  
        {{/* è¿…é›·ç½‘ç›˜æŒ‰é’®ï¼ˆå¯¹åº” url2ï¼‰ */}}
        {{ $xunleiUrl := index (where . "url2" "ne" nil) 0 "url2" }}
        {{ if $xunleiUrl }}
          <button onclick="window.open('{{ $xunleiUrl }}&t={{ $currentDate }}', '_blank')" class="action-btn xunlei" title="è¿…é›·ç½‘ç›˜ä¸‹è½½">
            <img src="/img/pan_xunlei.webp" alt="è¿…é›·ç½‘ç›˜">
          </button>
        {{ else }}
          <button class="action-btn xunlei" title="æš‚æ— è¿…é›·ç½‘ç›˜ä¸‹è½½" disabled>
            <img src="/img/pan_xunlei.webp" alt="è¿…é›·ç½‘ç›˜">
          </button>
        {{ end }}
  
        {{/* å¤¸å…‹ç½‘ç›˜æŒ‰é’®ï¼ˆå¯¹åº” url3ï¼‰ */}}
        {{ $quarkUrl := index (where . "url3" "ne" nil) 0 "url3" }}
        {{ if $quarkUrl }}
          <button onclick="window.open('{{ $quarkUrl }}&t={{ $currentDate }}', '_blank')" class="action-btn quark" title="å¤¸å…‹ç½‘ç›˜ä¸‹è½½">
            <img src="/img/pan_quark.webp" alt="å¤¸å…‹ç½‘ç›˜">
          </button>
        {{ else }}
          <button class="action-btn quark" title="æš‚æ— å¤¸å…‹ç½‘ç›˜ä¸‹è½½" disabled>
            <img src="/img/pan_quark.webp" alt="å¤¸å…‹ç½‘ç›˜">
          </button>
        {{ end }}
      </div>
      
      <small>ğŸ‘ˆğŸ»ç‚¹å‡»å›¾æ ‡</small>
      
    </div>

    {{/* 3. æ³¨æ„ï¼šæ”¯æŒæ¢è¡Œæ˜¾ç¤º */}}
    <div class="pan-text-group pan-text-remind">
      <small><small>
        <strong style="color:red !important;">æ³¨æ„: </strong>
        <span>ç½‘ç›˜åˆ†äº«æ–‡ä»¶å¯èƒ½æœ‰éƒ¨åˆ†å¤±æ•ˆï¼Œè¯·æ¢å¦ä¸€ä¸ªè¯•è¯•ã€‚</span>
      </small></small>
    </div>
  </div>
{{ else }}
  <div class="pan-actions">
    <span>ç½‘ç›˜æ–‡ä»¶ã€Œ{{ $name }}ã€å·²è¢«åˆ é™¤......</span>
  </div>
{{ end }}


  <style>
    /* ç½‘ç›˜å®¹å™¨ï¼šç»Ÿä¸€å¤–å±‚è¾¹è·ä¸å†…è¾¹è· */
    .pan-actions {
      display: flex;
      flex-wrap: wrap;
      align-items: flex-start; /* é¡¶éƒ¨å¯¹é½ï¼Œé€‚é…æ¢è¡Œæ–‡æœ¬ */
      gap: 0.8rem; /* ç»Ÿä¸€æ–‡æœ¬ç»„ä¹‹é—´çš„é—´è· */
      background: var(--entry);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 1rem; /* ç»Ÿä¸€å®¹å™¨å†…è¾¹è· */
      margin: 1.5rem 0; /* ç»Ÿä¸€å®¹å™¨å¤–é—´è· */
    }

    /* æ–‡æœ¬ç»„ï¼šç»Ÿä¸€å†…éƒ¨å¯¹é½ä¸é—´è· */
    .pan-text-group {
      display: flex;
      align-items: flex-start; /* é¡¶éƒ¨å¯¹é½ï¼Œé¿å…æ¢è¡Œåæ–‡å­—é”™ä½ */
      gap: 0.5rem; /* ç»Ÿä¸€æ–‡æœ¬ä¸åç»­å…ƒç´ çš„é—´è· */
      width: 100%; /* å¼ºåˆ¶å æ»¡ä¸€è¡Œ */
      line-height: 1.6; /* å¢åŠ è¡Œé«˜ï¼Œæå‡æ¢è¡Œåå¯è¯»æ€§ */
    }

    /* æ³¨æ„æ–‡æœ¬ç»„ï¼šæ”¯æŒæ¢è¡Œï¼Œæ–‡å­—ç‹¬ç«‹å è¡Œ */
    .pan-text-remind {
      gap: 0.3rem;
    }
    /* æé†’æ–‡æœ¬å®¹å™¨ï¼šå…è®¸æ¢è¡Œï¼Œå®½åº¦è‡ªé€‚åº” */
    .pan-text-remind span {
      flex: 1; /* å æ»¡å‰©ä½™å®½åº¦ï¼Œç¡®ä¿é•¿æ–‡æœ¬è‡ªåŠ¨æ¢è¡Œ */
      white-space: normal; /* å…è®¸è‡ªåŠ¨æ¢è¡Œ */
    }

    /* æ–‡æœ¬æ ·å¼ï¼šç»Ÿä¸€æƒé‡ä¸é¢œè‰² */
    .pan-actions strong {
      color: var(--primary);
      font-weight: 600; /* ç¨åŠ é‡ä»¥çªå‡ºæ ‡é¢˜ */
      padding-top: 0.1rem; /* å¾®è°ƒå¯¹é½ï¼Œä¸æ¢è¡Œæ–‡æœ¬åŸºçº¿ä¸€è‡´ */
    }

    /* æŒ‰é’®ç»„ï¼šç»Ÿä¸€æŒ‰é’®é—´è·ï¼Œç§»é™¤å¤šä½™è¾¹è· */
    .pan-btn-group {
      display: flex;
      gap: 0.6rem; /* ç»Ÿä¸€æŒ‰é’®ä¹‹é—´çš„é—´è· */
      margin: 0; /* ç§»é™¤å¤šä½™ä¸Šé—´è· */
    }

    /* æŒ‰é’®åŸºç¡€æ ·å¼ï¼šç²¾ç®€å†—ä½™å±æ€§ */
    .action-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 32px;
      height: 32px;
      text-decoration: none;
      transition: all 0.2s ease;
      border: none;
      background: transparent;
      padding: 0;
      cursor: pointer;
      border-radius: 4px;
    }

    /* æŒ‰é’®å›¾ç‰‡ï¼šç»Ÿä¸€è¾¹æ¡†ä¸å°ºå¯¸ */
    .action-btn img {
      width: 32px;
      height: 32px;
      border: 1px solid var(--border);
      border-radius: 3px;
      object-fit: cover;
    }

    /* ç¦ç”¨æŒ‰é’®æ ·å¼ï¼šä¿æŒç»Ÿä¸€é€æ˜åº¦ */
    .action-btn:disabled {
      pointer-events: none;
      opacity: 0.5; /* ç»Ÿä¸€ç¦ç”¨çŠ¶æ€é€æ˜åº¦ */
    }

    .action-btn:disabled img {
      filter: grayscale(100%);
    }

    /* æŒ‰é’®äº¤äº’ï¼šç»Ÿä¸€ç¼©æ”¾ä¸è¾¹æ¡†æ•ˆæœ */
    .action-btn:hover {
      opacity: 0.9;
      transform: scale(1.08);
    }

    .action-btn:hover img {
      filter: grayscale(0%);
      border-color: var(--primary);
    }

    /* ç§»åŠ¨ç«¯é€‚é…ï¼šæŒ‰æ¯”ä¾‹ç¼©å°é—´è·ä¸å°ºå¯¸ */
    @media (max-width: 480px) {
      .pan-actions {
        padding: 0.8rem; /* æŒ‰æ¯”ä¾‹ç¼©å°å†…è¾¹è· */
        gap: 0.6rem; /* ç¼©å°æ–‡æœ¬ç»„é—´è· */
        margin: 1rem 0; /* ç¼©å°å¤–é—´è· */
      }

      .pan-text-group {
        gap: 0.4rem; /* ç¼©å°æ–‡æœ¬å†…éƒ¨é—´è· */
        line-height: 1.5; /* é€‚é…ç§»åŠ¨ç«¯è¡Œé«˜ */
      }

      .pan-btn-group {
        gap: 0.4rem; /* ç¼©å°æŒ‰é’®é—´è· */
      }

      .action-btn,
      .action-btn img {
        width: 28px;
        height: 28px; /* æŒ‰é’®å°ºå¯¸é€‚é…ç§»åŠ¨ç«¯ */
      }
    }
  </style>
